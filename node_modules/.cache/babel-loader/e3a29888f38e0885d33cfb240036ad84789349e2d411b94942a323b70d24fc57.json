{"ast":null,"code":"// src/components/Products.jsx\nimport React,{useState,useRef,useMemo,useEffect,useCallback}from\"react\";import{motion}from\"framer-motion\";import{ChevronLeft,ChevronRight,Search,X}from\"lucide-react\";import\"./Products.css\";import localData from\"../data/companyData.json\";/**\r\n * FULL Products.jsx\r\n * - Category IDs (category.toLowerCase().replace(/\\s+/g, '-')) for Navbar scroll\r\n * - EmailJS in QuoteForm preserved (loads script and uses window.emailjs)\r\n * - No conditional hooks, ProductDetails hook fixed\r\n * - Compare panel, ProductCard, FeaturedCategoryCard included\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Products=()=>{// top-level hooks (always run)\nconst[data,setData]=useState(localData);const[loading,setLoading]=useState(false);const[activeCategory,setActiveCategory]=useState(null);const[searchTerm,setSearchTerm]=useState(\"\");const[compareProducts,setCompareProducts]=useState([]);const scrollRef=useRef(null);const[showForm,setShowForm]=useState(false);const[showDetails,setShowDetails]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const[selectedForDetails,setSelectedForDetails]=useState(null);useEffect(()=>{// initialize data (keeps backward compatibility if you later fetch)\nsetData(localData);setLoading(false);},[]);// Build categories with stable ids\nconst categories=useMemo(()=>((data===null||data===void 0?void 0:data.categories)||[]).map(cat=>({...cat,id:cat.category?cat.category.toLowerCase().replace(/\\s+/g,\"-\"):`cat-${Math.random().toString(36).slice(2,8)}`,subProducts:(cat.subProducts||[]).filter(Boolean)})),[data]);const{description=\"\"}=(data===null||data===void 0?void 0:data.companyInfo)||{};// image helper\nconst getImageUrl=useCallback(img=>{if(!img)return null;if(img.startsWith(\"http\")||img.startsWith(\"/\"))return img;let p=img;if(p.startsWith(\"uploads/\"))p=p.replace(/^uploads\\//,\"images/\");const base=process.env.PUBLIC_URL||\"\";return`${base}/${p}`;},[]);// horizontal scroll for pills\nconst scroll=useCallback(direction=>{if(scrollRef.current){const scrollAmount=300;scrollRef.current.scrollBy({left:direction===\"left\"?-scrollAmount:scrollAmount,behavior:\"smooth\"});}},[]);// filter categories by search\nconst filteredCategories=useMemo(()=>{return categories.filter(c=>c.category.toLowerCase().includes(searchTerm.toLowerCase()));},[categories,searchTerm]);const allCategoryNames=useMemo(()=>filteredCategories.map(c=>c.category),[filteredCategories]);const activeSubProducts=useMemo(()=>{if(!activeCategory)return[];const cat=categories.find(c=>c.category===activeCategory);return cat?cat.subProducts:[];},[categories,activeCategory]);const toggleCompare=useCallback(product=>{setCompareProducts(prev=>{const exists=prev.some(p=>p.name===product.name);if(exists)return prev.filter(p=>p.name!==product.name);if(prev.length<4)return[...prev,product];return prev;});},[]);const handleQuote=useCallback(product=>{setSelectedProduct(product);setShowForm(true);},[]);const handleDetails=useCallback(product=>{setSelectedForDetails(product);setShowDetails(true);},[]);const handleCustomQuote=useCallback(()=>{setSelectedProduct({name:\"Custom Solution\"});setShowForm(true);},[]);const handleViewAllProducts=useCallback((category,id)=>{setActiveCategory(category);// scroll into view of the category section by id\nsetTimeout(()=>{const el=document.getElementById(id);if(el)el.scrollIntoView({behavior:\"smooth\",block:\"start\"});},150);},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"py-12 text-center\",children:\"Loading products...\"});if(!data||data.error)return/*#__PURE__*/_jsx(\"div\",{className:\"py-12 text-center\",children:\"No data available.\"});return/*#__PURE__*/_jsxs(\"section\",{id:\"products\",className:\"py-12 text-gray-800 sm:py-20 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 mx-auto max-w-7xl\",children:[/*#__PURE__*/_jsx(motion.h2,{className:\"mb-6 text-3xl font-bold text-center text-blue-700 sm:text-5xl sm:mb-10\",initial:{y:-50},whileInView:{y:0},viewport:{once:true},children:\"Our Products & Services\"}),/*#__PURE__*/_jsx(\"p\",{className:\"max-w-3xl mx-auto mb-8 text-lg text-center text-gray-600\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute text-gray-400 transform -translate-y-1/2 left-3 top-1/2\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search categories...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full py-3 pl-10 pr-4 transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\"})]})}),activeCategory&&/*#__PURE__*/_jsx(motion.button,{onClick:()=>setActiveCategory(null),className:\"px-6 py-3 font-semibold text-white transition-all bg-gray-600 rounded-lg hover:bg-gray-700\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:\"\\u2190 All Categories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-10\",role:\"navigation\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>scroll(\"left\"),className:\"absolute left-0 p-2 text-blue-600 -translate-y-1/2 rounded-full top-1/2 scroll-arrow hover:bg-blue-100\",\"aria-label\":\"scroll left\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{ref:scrollRef,className:\"flex gap-3 px-10 overflow-x-auto products-scroll no-scrollbar\",style:{scrollbarWidth:\"none\",msOverflowStyle:\"none\"},children:[/*#__PURE__*/_jsx(motion.button,{onClick:()=>setActiveCategory(null),className:`px-6 py-3 rounded-full font-semibold transition flex-shrink-0 ${!activeCategory?\"bg-blue-600 text-white\":\"bg-white text-blue-700 border border-blue-300\"}`,children:\"All Categories\"}),filteredCategories.map(category=>/*#__PURE__*/_jsx(motion.button,{onClick:()=>{setActiveCategory(category.category);const el=document.getElementById(category.id);if(el)el.scrollIntoView({behavior:\"smooth\",block:\"start\"});},className:`px-6 py-3 rounded-full font-semibold transition flex-shrink-0 ${activeCategory===category.category?\"bg-blue-600 text-white\":\"bg-white text-blue-700 border border-blue-300\"}`,children:category.category},category.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>scroll(\"right\"),className:\"absolute right-0 p-2 text-blue-600 -translate-y-1/2 rounded-full top-1/2 scroll-arrow hover:bg-blue-100\",\"aria-label\":\"scroll right\",children:/*#__PURE__*/_jsx(ChevronRight,{size:24})})]}),/*#__PURE__*/_jsx(motion.div,{id:\"products-grid\",className:\"grid gap-6 lg:grid-cols-4\",initial:{opacity:0},whileInView:{opacity:1},transition:{staggerChildren:0.1},viewport:{once:true},children:!activeCategory?filteredCategories.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"py-8 text-center col-span-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No categories found.\"})}):filteredCategories.map(category=>{var _subProducts$,_subProducts$$images;const catData=categories.find(p=>p.id===category.id)||category;const subProducts=(catData===null||catData===void 0?void 0:catData.subProducts)||[];const firstImage=(_subProducts$=subProducts[0])===null||_subProducts$===void 0?void 0:(_subProducts$$images=_subProducts$.images)===null||_subProducts$$images===void 0?void 0:_subProducts$$images[0];return/*#__PURE__*/_jsx(\"div\",{id:category.id,className:\"col-span-1\",children:/*#__PURE__*/_jsx(FeaturedCategoryCard,{category:category.category,subProducts:subProducts,imageSrc:firstImage?getImageUrl(firstImage):null,onViewAll:()=>handleViewAllProducts(category.category,category.id)})},category.id);}):activeSubProducts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"py-8 text-center col-span-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No products found.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-full lg:grid lg:grid-cols-3 lg:gap-6\",children:activeSubProducts.map((sub,idx)=>/*#__PURE__*/_jsx(ProductCard,{name:sub.name,price:sub.price,images:sub.images||[],description:sub.description,specs:sub.specs||[],additionalInfo:sub.additionalInfo||{},onQuote:()=>handleQuote(sub),onDetails:()=>handleDetails(sub),onCompare:()=>toggleCompare(sub),isCompared:compareProducts.some(p=>p.name===sub.name),getImageUrl:getImageUrl,showSpecs:false},idx))})}),compareProducts.length>0&&/*#__PURE__*/_jsx(ComparePanel,{products:compareProducts,onRemove:toggleCompare,getImageUrl:getImageUrl}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCustomQuote,className:\"inline-block px-8 py-4 text-lg font-semibold text-white transition-colors bg-blue-600 rounded-full hover:bg-blue-700 focus:ring-2 focus:ring-blue-300\",children:\"Enquire for Custom Solutions\"})})]}),showForm&&/*#__PURE__*/_jsx(QuoteForm,{product:selectedProduct,onClose:()=>setShowForm(false)}),showDetails&&/*#__PURE__*/_jsx(ProductDetails,{product:selectedForDetails,onClose:()=>setShowDetails(false),getImageUrl:getImageUrl})]});};/* --------------------------------------------------------------------------- *//* --------------------------- Child components below ------------------------- *//* --------------------------------------------------------------------------- */const FeaturedCategoryCard=/*#__PURE__*/React.memo(_ref=>{let{category,subProducts,imageSrc,onViewAll}=_ref;return/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col overflow-hidden transition-all bg-white border border-gray-200 shadow-lg rounded-xl hover:shadow-2xl\",whileHover:{y:-8},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-shrink-0 h-48 mb-4 overflow-hidden rounded-t-xl bg-gradient-to-br from-blue-50 to-gray-100\",children:[imageSrc?/*#__PURE__*/_jsx(\"img\",{src:imageSrc,alt:`${category} example`,className:\"object-cover w-full h-full transition-transform duration-500 hover:scale-110\",loading:\"lazy\",onError:e=>{const base=process.env.PUBLIC_URL||\"\";const placeholder=`${base}/images/logo.jpeg`;if(e.target.src!==placeholder){e.target.onerror=null;e.target.src=placeholder;}}}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-full h-full bg-gradient-to-br from-blue-50 to-gray-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-500\",children:\"Category Preview\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute px-3 py-1 text-sm font-semibold text-white bg-blue-600 rounded-full top-2 right-2\",children:[subProducts.length,\" Items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3 text-xl font-bold text-gray-900\",children:category}),subProducts.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"flex-grow mb-4 space-y-2 text-sm text-gray-600\",children:subProducts.map((sub,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center transition-colors hover:text-blue-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-2 h-2 mr-2 bg-blue-400 rounded-full\"}),sub.name]},idx))}),/*#__PURE__*/_jsx(\"button\",{onClick:onViewAll,className:\"self-start px-4 py-2 font-medium text-blue-600 transition-all border border-blue-300 rounded-lg hover:bg-blue-50 hover:border-blue-600\",children:\"View All Products \\u2192\"})]})]});});const ProductCard=/*#__PURE__*/React.memo(_ref2=>{let{name,price,images=[],description,specs=[],additionalInfo={},onQuote,onDetails,onCompare,isCompared,getImageUrl,showSpecs=true}=_ref2;return/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col p-6 transition-all bg-white border border-gray-200 shadow-lg rounded-xl hover:shadow-2xl\",whileHover:{y:-8},children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative flex-shrink-0 h-48 mb-4 overflow-hidden rounded-lg bg-gradient-to-br from-blue-50 to-gray-100\",children:images!==null&&images!==void 0&&images[0]?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(images[0]),alt:`${name} preview`,className:\"object-cover w-full h-full transition-transform duration-500 hover:scale-110\",loading:\"lazy\",onError:e=>{const placeholder=`${process.env.PUBLIC_URL||\"\"}/images/logo.jpeg`;if(e.target.src!==placeholder){e.target.onerror=null;e.target.src=placeholder;}}}),images.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute px-3 py-1 text-xs font-semibold text-white bg-blue-600 rounded-full top-2 right-2\",children:[\"+\",images.length-1]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-full h-full rounded bg-gradient-to-br from-blue-50 to-gray-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-500\",children:\"Product Preview\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"flex-shrink-0 mb-2 text-lg font-bold text-gray-900\",children:name}),price&&/*#__PURE__*/_jsx(\"p\",{className:\"flex-shrink-0 mb-3 text-xl font-bold text-green-600\",children:price}),description&&/*#__PURE__*/_jsx(\"p\",{className:\"flex-shrink-0 mb-4 text-sm leading-relaxed text-gray-600 line-clamp-2\",children:description}),showSpecs&&(specs.length>0||Object.keys(additionalInfo).length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 p-3 mb-4 space-y-2 text-xs text-gray-600 rounded-lg bg-gray-50\",children:[specs.map((spec,i)=>/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsxs(\"strong\",{className:\"text-gray-800\",children:[spec.key,\":\"]}),\" \",spec.value]},i)),Object.entries(additionalInfo).map(_ref3=>{let[key,value]=_ref3;return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{className:\"text-gray-800\",children:[key,\":\"]}),\" \",value]},key);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mt-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onQuote,className:\"flex-1 px-4 py-3 font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 active:scale-95\",children:\"Get Quote\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onDetails,className:\"flex-1 px-4 py-3 font-semibold text-gray-700 transition-all bg-gray-200 rounded-lg hover:bg-gray-300 active:scale-95\",children:\"Details\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCompare,className:`w-full px-4 py-2 font-semibold rounded-lg transition-all ${isCompared?\"bg-blue-100 text-blue-700 border-2 border-blue-600\":\"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-600\"}`,children:isCompared?\"Added to Compare\":\"+ Compare\"})]})]});});const ComparePanel=/*#__PURE__*/React.memo(_ref4=>{let{products,onRemove,getImageUrl}=_ref4;return/*#__PURE__*/_jsxs(motion.div,{className:\"fixed z-40 max-w-sm p-6 bg-white border-2 border-blue-600 shadow-2xl bottom-4 right-4 rounded-xl\",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"flex items-center justify-between mb-4 text-lg font-bold text-gray-900\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Compare Products (\",products.length,\"/4)\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 space-y-3 overflow-y-auto max-h-60\",children:products.map((product,idx)=>/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center justify-between p-3 rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-bold text-green-600\",children:product.price})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onRemove(product),className:\"p-2 ml-2 text-red-500 transition-all rounded-lg hover:text-red-700 hover:bg-red-50\",children:/*#__PURE__*/_jsx(X,{size:18})})]},idx))}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-3 font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 active:scale-95\",children:\"View Comparison Details\"})]});});/* ProductDetails: hooks declared at top so no conditional hook usage */const ProductDetails=_ref5=>{var _product$images,_product$images2;let{product,onClose,getImageUrl}=_ref5;const[currentImageIndex,setCurrentImageIndex]=useState(0);useEffect(()=>{// reset when product changes\nsetCurrentImageIndex(0);},[product]);if(!product)return null;const totalImages=product.images&&product.images.length||1;const nextImage=()=>setCurrentImageIndex(prev=>(prev+1)%totalImages);const prevImage=()=>setCurrentImageIndex(prev=>(prev-1+totalImages)%totalImages);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50\",onClick:onClose,children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl max-h-[90vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute z-10 p-2 text-gray-500 transition-all bg-white rounded-full top-4 right-4 hover:text-gray-800 hover:bg-gray-100\",children:/*#__PURE__*/_jsx(X,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-8 p-6 md:grid-cols-2 md:p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-4 overflow-hidden h-96 rounded-xl bg-gradient-to-br from-blue-50 to-gray-100\",children:[((_product$images=product.images)===null||_product$images===void 0?void 0:_product$images.length)>0?/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(product.images[currentImageIndex]),alt:`${product.name} image ${currentImageIndex+1}`,className:\"object-cover w-full h-full\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-full h-full\",children:\"No Image\"}),totalImages>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevImage,className:\"absolute p-3 text-gray-800 transition-all -translate-y-1/2 rounded-full shadow-lg left-3 top-1/2 bg-white/90 hover:bg-white\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:24})}),/*#__PURE__*/_jsx(\"button\",{onClick:nextImage,className:\"absolute p-3 text-gray-800 transition-all -translate-y-1/2 rounded-full shadow-lg right-3 top-1/2 bg-white/90 hover:bg-white\",children:/*#__PURE__*/_jsx(ChevronRight,{size:24})})]})]}),totalImages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 overflow-x-auto\",children:(_product$images2=product.images)===null||_product$images2===void 0?void 0:_product$images2.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentImageIndex(index),className:`flex-shrink-0 w-16 h-16 rounded-lg border-2 overflow-hidden ${index===currentImageIndex?\"border-blue-600\":\"border-gray-300\"}`,children:/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(product.images[index]),alt:`Thumbnail ${index+1}`,className:\"object-cover w-full h-full\"})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-2 text-3xl font-bold text-gray-900\",children:product.name}),product.price&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-6 text-3xl font-bold text-green-600\",children:product.price}),product.description&&/*#__PURE__*/_jsx(\"p\",{className:\"leading-relaxed text-gray-700\",children:product.description})]})]})]})});};/* QuoteForm with EmailJS (keeps same behavior as your original code) */const QuoteForm=_ref6=>{let{product,onClose}=_ref6;const[form,setForm]=useState({name:\"\",email:\"\",phone:\"\",details:\"\"});const[status,setStatus]=useState(\"idle\");// Replace these with your actual EmailJS values if different.\nconst SERVICE_ID=\"service_kt8vzli\";const TEMPLATE_ID=\"template_9lqtcc5\";const PUBLIC_KEY=\"gR42kMLn6SLj_Xrmx\";useEffect(()=>{// load emailjs script once\nconst scriptId=\"emailjs-sdk\";if(!document.getElementById(scriptId)){const script=document.createElement(\"script\");script.id=scriptId;script.src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\";script.async=true;script.onload=()=>{try{// initialize if available\nif(window.emailjs&&typeof window.emailjs.init===\"function\"){window.emailjs.init(PUBLIC_KEY);}}catch(e){// ignore\n}};document.body.appendChild(script);}else{// already present - ensure init\nif(window.emailjs&&typeof window.emailjs.init===\"function\"){window.emailjs.init(PUBLIC_KEY);}}},[]);const handleSubmit=async e=>{e.preventDefault();setStatus(\"sending\");try{if(!window.emailjs||!window.emailjs.send){throw new Error(\"EmailJS not loaded\");}await window.emailjs.send(SERVICE_ID,TEMPLATE_ID,{product:(product===null||product===void 0?void 0:product.name)||\"Custom Quote\",from_name:form.name,from_email:form.email,phone:form.phone,message:form.details||\"No additional details provided\"});setStatus(\"success\");setTimeout(()=>{onClose();setForm({name:\"\",email:\"\",phone:\"\",details:\"\"});setStatus(\"idle\");},2200);}catch(err){console.error(\"Email send error:\",err);setStatus(\"error\");setTimeout(()=>setStatus(\"idle\"),3000);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50\",onClick:onClose,children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative w-full max-w-sm overflow-hidden bg-white shadow-2xl rounded-2xl\",onClick:e=>e.stopPropagation(),initial:{scale:0.85,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},children:[status===\"success\"&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 z-50 flex items-center justify-center bg-green-50 rounded-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-500 rounded-full\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl text-white\",children:\"\\u2713\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-green-800\",children:\"Quote Submitted!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-green-700\",children:\"We'll contact you soon.\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute z-20 p-2 text-gray-600 bg-white rounded-full shadow-sm top-3 right-3 hover:bg-gray-100\",children:/*#__PURE__*/_jsx(X,{size:18})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 text-white bg-gradient-to-r from-blue-600 to-blue-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Get Quote\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-blue-100\",children:(product===null||product===void 0?void 0:product.name)||\"Custom Solution\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-5 space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Name *\",required:true,value:form.name,onChange:e=>setForm({...form,name:e.target.value}),className:\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your Email *\",required:true,value:form.email,onChange:e=>setForm({...form,email:e.target.value}),className:\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"Your Mobile *\",required:true,value:form.phone,onChange:e=>setForm({...form,phone:e.target.value}),className:\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Your Requirements...\",rows:3,value:form.details,onChange:e=>setForm({...form,details:e.target.value}),className:\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none resize-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:status===\"sending\",className:\"w-full py-2.5 text-sm font-bold text-white transition-all bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg hover:shadow-lg disabled:opacity-50\",children:status===\"sending\"?\"Submitting...\":\"Submit Quote\"})]})]})});};export default Products;","map":{"version":3,"names":["React","useState","useRef","useMemo","useEffect","useCallback","motion","ChevronLeft","ChevronRight","Search","X","localData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","data","setData","loading","setLoading","activeCategory","setActiveCategory","searchTerm","setSearchTerm","compareProducts","setCompareProducts","scrollRef","showForm","setShowForm","showDetails","setShowDetails","selectedProduct","setSelectedProduct","selectedForDetails","setSelectedForDetails","categories","map","cat","id","category","toLowerCase","replace","Math","random","toString","slice","subProducts","filter","Boolean","description","companyInfo","getImageUrl","img","startsWith","p","base","process","env","PUBLIC_URL","scroll","direction","current","scrollAmount","scrollBy","left","behavior","filteredCategories","c","includes","allCategoryNames","activeSubProducts","find","toggleCompare","product","prev","exists","some","name","length","handleQuote","handleDetails","handleCustomQuote","handleViewAllProducts","setTimeout","el","document","getElementById","scrollIntoView","block","className","children","error","h2","initial","y","whileInView","viewport","once","size","type","placeholder","value","onChange","e","target","button","onClick","whileHover","scale","whileTap","role","ref","style","scrollbarWidth","msOverflowStyle","div","opacity","transition","staggerChildren","_subProducts$","_subProducts$$images","catData","firstImage","images","FeaturedCategoryCard","imageSrc","onViewAll","sub","idx","ProductCard","price","specs","additionalInfo","onQuote","onDetails","onCompare","isCompared","showSpecs","ComparePanel","products","onRemove","QuoteForm","onClose","ProductDetails","memo","_ref","src","alt","onError","onerror","_ref2","Object","keys","spec","i","key","entries","_ref3","_ref4","animate","exit","_ref5","_product$images","_product$images2","currentImageIndex","setCurrentImageIndex","totalImages","nextImage","prevImage","stopPropagation","_","index","_ref6","form","setForm","email","phone","details","status","setStatus","SERVICE_ID","TEMPLATE_ID","PUBLIC_KEY","scriptId","script","createElement","async","onload","window","emailjs","init","body","appendChild","handleSubmit","preventDefault","send","Error","from_name","from_email","message","err","console","onSubmit","required","rows","disabled"],"sources":["E:/indiaadvertising/src/components/Products.js"],"sourcesContent":["// src/components/Products.jsx\r\nimport React, { useState, useRef, useMemo, useEffect, useCallback } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ChevronLeft, ChevronRight, Search, X } from \"lucide-react\";\r\nimport \"./Products.css\";\r\nimport localData from \"../data/companyData.json\";\r\n\r\n/**\r\n * FULL Products.jsx\r\n * - Category IDs (category.toLowerCase().replace(/\\s+/g, '-')) for Navbar scroll\r\n * - EmailJS in QuoteForm preserved (loads script and uses window.emailjs)\r\n * - No conditional hooks, ProductDetails hook fixed\r\n * - Compare panel, ProductCard, FeaturedCategoryCard included\r\n */\r\n\r\nconst Products = () => {\r\n  // top-level hooks (always run)\r\n  const [data, setData] = useState(localData);\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeCategory, setActiveCategory] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [compareProducts, setCompareProducts] = useState([]);\r\n  const scrollRef = useRef(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [selectedForDetails, setSelectedForDetails] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // initialize data (keeps backward compatibility if you later fetch)\r\n    setData(localData);\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  // Build categories with stable ids\r\n  const categories = useMemo(\r\n    () =>\r\n      (data?.categories || []).map((cat) => ({\r\n        ...cat,\r\n        id: cat.category ? cat.category.toLowerCase().replace(/\\s+/g, \"-\") : `cat-${Math.random().toString(36).slice(2, 8)}`,\r\n        subProducts: (cat.subProducts || []).filter(Boolean),\r\n      })),\r\n    [data]\r\n  );\r\n\r\n  const { description = \"\" } = data?.companyInfo || {};\r\n\r\n  // image helper\r\n  const getImageUrl = useCallback((img) => {\r\n    if (!img) return null;\r\n    if (img.startsWith(\"http\") || img.startsWith(\"/\")) return img;\r\n    let p = img;\r\n    if (p.startsWith(\"uploads/\")) p = p.replace(/^uploads\\//, \"images/\");\r\n    const base = process.env.PUBLIC_URL || \"\";\r\n    return `${base}/${p}`;\r\n  }, []);\r\n\r\n  // horizontal scroll for pills\r\n  const scroll = useCallback((direction) => {\r\n    if (scrollRef.current) {\r\n      const scrollAmount = 300;\r\n      scrollRef.current.scrollBy({\r\n        left: direction === \"left\" ? -scrollAmount : scrollAmount,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // filter categories by search\r\n  const filteredCategories = useMemo(() => {\r\n    return categories.filter((c) => c.category.toLowerCase().includes(searchTerm.toLowerCase()));\r\n  }, [categories, searchTerm]);\r\n\r\n  const allCategoryNames = useMemo(() => filteredCategories.map((c) => c.category), [filteredCategories]);\r\n\r\n  const activeSubProducts = useMemo(() => {\r\n    if (!activeCategory) return [];\r\n    const cat = categories.find((c) => c.category === activeCategory);\r\n    return cat ? cat.subProducts : [];\r\n  }, [categories, activeCategory]);\r\n\r\n  const toggleCompare = useCallback((product) => {\r\n    setCompareProducts((prev) => {\r\n      const exists = prev.some((p) => p.name === product.name);\r\n      if (exists) return prev.filter((p) => p.name !== product.name);\r\n      if (prev.length < 4) return [...prev, product];\r\n      return prev;\r\n    });\r\n  }, []);\r\n\r\n  const handleQuote = useCallback((product) => {\r\n    setSelectedProduct(product);\r\n    setShowForm(true);\r\n  }, []);\r\n\r\n  const handleDetails = useCallback((product) => {\r\n    setSelectedForDetails(product);\r\n    setShowDetails(true);\r\n  }, []);\r\n\r\n  const handleCustomQuote = useCallback(() => {\r\n    setSelectedProduct({ name: \"Custom Solution\" });\r\n    setShowForm(true);\r\n  }, []);\r\n\r\n  const handleViewAllProducts = useCallback((category, id) => {\r\n    setActiveCategory(category);\r\n    // scroll into view of the category section by id\r\n    setTimeout(() => {\r\n      const el = document.getElementById(id);\r\n      if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n    }, 150);\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"py-12 text-center\">Loading products...</div>;\r\n  if (!data || data.error) return <div className=\"py-12 text-center\">No data available.</div>;\r\n\r\n  return (\r\n    <section id=\"products\" className=\"py-12 text-gray-800 sm:py-20 bg-gray-50\">\r\n      <div className=\"px-4 mx-auto max-w-7xl\">\r\n        <motion.h2\r\n          className=\"mb-6 text-3xl font-bold text-center text-blue-700 sm:text-5xl sm:mb-10\"\r\n          initial={{ y: -50 }}\r\n          whileInView={{ y: 0 }}\r\n          viewport={{ once: true }}\r\n        >\r\n          Our Products & Services\r\n        </motion.h2>\r\n\r\n        <p className=\"max-w-3xl mx-auto mb-8 text-lg text-center text-gray-600\">{description}</p>\r\n\r\n        <div className=\"flex items-center gap-4 mb-8\">\r\n          <div className=\"flex-1 max-w-md\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute text-gray-400 transform -translate-y-1/2 left-3 top-1/2\" size={20} />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search categories...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full py-3 pl-10 pr-4 transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {activeCategory && (\r\n            <motion.button\r\n              onClick={() => setActiveCategory(null)}\r\n              className=\"px-6 py-3 font-semibold text-white transition-all bg-gray-600 rounded-lg hover:bg-gray-700\"\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              ← All Categories\r\n            </motion.button>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"relative mb-10\" role=\"navigation\">\r\n          <button\r\n            onClick={() => scroll(\"left\")}\r\n            className=\"absolute left-0 p-2 text-blue-600 -translate-y-1/2 rounded-full top-1/2 scroll-arrow hover:bg-blue-100\"\r\n            aria-label=\"scroll left\"\r\n          >\r\n            <ChevronLeft size={24} />\r\n          </button>\r\n\r\n          <div\r\n            ref={scrollRef}\r\n            className=\"flex gap-3 px-10 overflow-x-auto products-scroll no-scrollbar\"\r\n            style={{ scrollbarWidth: \"none\", msOverflowStyle: \"none\" }}\r\n          >\r\n            <motion.button\r\n              onClick={() => setActiveCategory(null)}\r\n              className={`px-6 py-3 rounded-full font-semibold transition flex-shrink-0 ${\r\n                !activeCategory ? \"bg-blue-600 text-white\" : \"bg-white text-blue-700 border border-blue-300\"\r\n              }`}\r\n            >\r\n              All Categories\r\n            </motion.button>\r\n\r\n            {filteredCategories.map((category) => (\r\n              <motion.button\r\n                key={category.id}\r\n                onClick={() => {\r\n                  setActiveCategory(category.category);\r\n                  const el = document.getElementById(category.id);\r\n                  if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n                }}\r\n                className={`px-6 py-3 rounded-full font-semibold transition flex-shrink-0 ${\r\n                  activeCategory === category.category ? \"bg-blue-600 text-white\" : \"bg-white text-blue-700 border border-blue-300\"\r\n                }`}\r\n              >\r\n                {category.category}\r\n              </motion.button>\r\n            ))}\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => scroll(\"right\")}\r\n            className=\"absolute right-0 p-2 text-blue-600 -translate-y-1/2 rounded-full top-1/2 scroll-arrow hover:bg-blue-100\"\r\n            aria-label=\"scroll right\"\r\n          >\r\n            <ChevronRight size={24} />\r\n          </button>\r\n        </div>\r\n\r\n        <motion.div\r\n          id=\"products-grid\"\r\n          className=\"grid gap-6 lg:grid-cols-4\"\r\n          initial={{ opacity: 0 }}\r\n          whileInView={{ opacity: 1 }}\r\n          transition={{ staggerChildren: 0.1 }}\r\n          viewport={{ once: true }}\r\n        >\r\n          {!activeCategory ? (\r\n            filteredCategories.length === 0 ? (\r\n              <div className=\"py-8 text-center col-span-full\">\r\n                <p className=\"text-gray-500\">No categories found.</p>\r\n              </div>\r\n            ) : (\r\n              filteredCategories.map((category) => {\r\n                const catData = categories.find((p) => p.id === category.id) || category;\r\n                const subProducts = catData?.subProducts || [];\r\n                const firstImage = subProducts[0]?.images?.[0];\r\n                return (\r\n                  <div id={category.id} key={category.id} className=\"col-span-1\">\r\n                    <FeaturedCategoryCard\r\n                      category={category.category}\r\n                      subProducts={subProducts}\r\n                      imageSrc={firstImage ? getImageUrl(firstImage) : null}\r\n                      onViewAll={() => handleViewAllProducts(category.category, category.id)}\r\n                    />\r\n                  </div>\r\n                );\r\n              })\r\n            )\r\n          ) : activeSubProducts.length === 0 ? (\r\n            <div className=\"py-8 text-center col-span-full\">\r\n              <p className=\"text-gray-500\">No products found.</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"lg:col-span-full lg:grid lg:grid-cols-3 lg:gap-6\">\r\n              {activeSubProducts.map((sub, idx) => (\r\n                <ProductCard\r\n                  key={idx}\r\n                  name={sub.name}\r\n                  price={sub.price}\r\n                  images={sub.images || []}\r\n                  description={sub.description}\r\n                  specs={sub.specs || []}\r\n                  additionalInfo={sub.additionalInfo || {}}\r\n                  onQuote={() => handleQuote(sub)}\r\n                  onDetails={() => handleDetails(sub)}\r\n                  onCompare={() => toggleCompare(sub)}\r\n                  isCompared={compareProducts.some((p) => p.name === sub.name)}\r\n                  getImageUrl={getImageUrl}\r\n                  showSpecs={false}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n\r\n        {compareProducts.length > 0 && <ComparePanel products={compareProducts} onRemove={toggleCompare} getImageUrl={getImageUrl} />}\r\n\r\n        <div className=\"mt-12 text-center\">\r\n          <button\r\n            onClick={handleCustomQuote}\r\n            className=\"inline-block px-8 py-4 text-lg font-semibold text-white transition-colors bg-blue-600 rounded-full hover:bg-blue-700 focus:ring-2 focus:ring-blue-300\"\r\n          >\r\n            Enquire for Custom Solutions\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showForm && <QuoteForm product={selectedProduct} onClose={() => setShowForm(false)} />}\r\n\r\n      {showDetails && <ProductDetails product={selectedForDetails} onClose={() => setShowDetails(false)} getImageUrl={getImageUrl} />}\r\n    </section>\r\n  );\r\n};\r\n\r\n/* --------------------------------------------------------------------------- */\r\n/* --------------------------- Child components below ------------------------- */\r\n/* --------------------------------------------------------------------------- */\r\n\r\nconst FeaturedCategoryCard = React.memo(({ category, subProducts, imageSrc, onViewAll }) => (\r\n  <motion.div className=\"flex flex-col overflow-hidden transition-all bg-white border border-gray-200 shadow-lg rounded-xl hover:shadow-2xl\" whileHover={{ y: -8 }}>\r\n    <div className=\"relative flex-shrink-0 h-48 mb-4 overflow-hidden rounded-t-xl bg-gradient-to-br from-blue-50 to-gray-100\">\r\n      {imageSrc ? (\r\n        <img\r\n          src={imageSrc}\r\n          alt={`${category} example`}\r\n          className=\"object-cover w-full h-full transition-transform duration-500 hover:scale-110\"\r\n          loading=\"lazy\"\r\n          onError={(e) => {\r\n            const base = process.env.PUBLIC_URL || \"\";\r\n            const placeholder = `${base}/images/logo.jpeg`;\r\n            if (e.target.src !== placeholder) {\r\n              e.target.onerror = null;\r\n              e.target.src = placeholder;\r\n            }\r\n          }}\r\n        />\r\n      ) : (\r\n        <div className=\"flex items-center justify-center w-full h-full bg-gradient-to-br from-blue-50 to-gray-100\">\r\n          <span className=\"font-medium text-gray-500\">Category Preview</span>\r\n        </div>\r\n      )}\r\n      <div className=\"absolute px-3 py-1 text-sm font-semibold text-white bg-blue-600 rounded-full top-2 right-2\">\r\n        {subProducts.length} Items\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"flex flex-col flex-grow p-6\">\r\n      <h3 className=\"mb-3 text-xl font-bold text-gray-900\">{category}</h3>\r\n      {subProducts.length > 0 && (\r\n        <ul className=\"flex-grow mb-4 space-y-2 text-sm text-gray-600\">\r\n          {subProducts.map((sub, idx) => (\r\n            <li key={idx} className=\"flex items-center transition-colors hover:text-blue-600\">\r\n              <span className=\"inline-block w-2 h-2 mr-2 bg-blue-400 rounded-full\"></span>\r\n              {sub.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <button onClick={onViewAll} className=\"self-start px-4 py-2 font-medium text-blue-600 transition-all border border-blue-300 rounded-lg hover:bg-blue-50 hover:border-blue-600\">\r\n        View All Products →\r\n      </button>\r\n    </div>\r\n  </motion.div>\r\n));\r\n\r\nconst ProductCard = React.memo(({ name, price, images = [], description, specs = [], additionalInfo = {}, onQuote, onDetails, onCompare, isCompared, getImageUrl, showSpecs = true }) => (\r\n  <motion.div className=\"flex flex-col p-6 transition-all bg-white border border-gray-200 shadow-lg rounded-xl hover:shadow-2xl\" whileHover={{ y: -8 }}>\r\n    <div className=\"relative flex-shrink-0 h-48 mb-4 overflow-hidden rounded-lg bg-gradient-to-br from-blue-50 to-gray-100\">\r\n      {images?.[0] ? (\r\n        <>\r\n          <img\r\n            src={getImageUrl(images[0])}\r\n            alt={`${name} preview`}\r\n            className=\"object-cover w-full h-full transition-transform duration-500 hover:scale-110\"\r\n            loading=\"lazy\"\r\n            onError={(e) => {\r\n              const placeholder = `${process.env.PUBLIC_URL || \"\"}/images/logo.jpeg`;\r\n              if (e.target.src !== placeholder) {\r\n                e.target.onerror = null;\r\n                e.target.src = placeholder;\r\n              }\r\n            }}\r\n          />\r\n          {images.length > 1 && (\r\n            <div className=\"absolute px-3 py-1 text-xs font-semibold text-white bg-blue-600 rounded-full top-2 right-2\">\r\n              +{images.length - 1}\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div className=\"flex items-center justify-center w-full h-full rounded bg-gradient-to-br from-blue-50 to-gray-100\">\r\n          <span className=\"font-medium text-gray-500\">Product Preview</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    <h3 className=\"flex-shrink-0 mb-2 text-lg font-bold text-gray-900\">{name}</h3>\r\n    {price && <p className=\"flex-shrink-0 mb-3 text-xl font-bold text-green-600\">{price}</p>}\r\n    {description && <p className=\"flex-shrink-0 mb-4 text-sm leading-relaxed text-gray-600 line-clamp-2\">{description}</p>}\r\n\r\n    {showSpecs && (specs.length > 0 || Object.keys(additionalInfo).length > 0) && (\r\n      <div className=\"flex-shrink-0 p-3 mb-4 space-y-2 text-xs text-gray-600 rounded-lg bg-gray-50\">\r\n        {specs.map((spec, i) => (\r\n          <p key={i} className=\"mb-1\"><strong className=\"text-gray-800\">{spec.key}:</strong> {spec.value}</p>\r\n        ))}\r\n        {Object.entries(additionalInfo).map(([key, value]) => (\r\n          <p key={key}><strong className=\"text-gray-800\">{key}:</strong> {value}</p>\r\n        ))}\r\n      </div>\r\n    )}\r\n\r\n    <div className=\"flex flex-col gap-2 mt-auto\">\r\n      <div className=\"flex gap-2\">\r\n        <button onClick={onQuote} className=\"flex-1 px-4 py-3 font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 active:scale-95\">\r\n          Get Quote\r\n        </button>\r\n        <button onClick={onDetails} className=\"flex-1 px-4 py-3 font-semibold text-gray-700 transition-all bg-gray-200 rounded-lg hover:bg-gray-300 active:scale-95\">\r\n          Details\r\n        </button>\r\n      </div>\r\n      <button\r\n        onClick={onCompare}\r\n        className={`w-full px-4 py-2 font-semibold rounded-lg transition-all ${\r\n          isCompared ? \"bg-blue-100 text-blue-700 border-2 border-blue-600\" : \"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-600\"\r\n        }`}\r\n      >\r\n        {isCompared ? \"Added to Compare\" : \"+ Compare\"}\r\n      </button>\r\n    </div>\r\n  </motion.div>\r\n));\r\n\r\nconst ComparePanel = React.memo(({ products, onRemove, getImageUrl }) => (\r\n  <motion.div className=\"fixed z-40 max-w-sm p-6 bg-white border-2 border-blue-600 shadow-2xl bottom-4 right-4 rounded-xl\"\r\n    initial={{ y: 100, opacity: 0 }} animate={{ y: 0, opacity: 1 }} exit={{ y: 100, opacity: 0 }}>\r\n    <h4 className=\"flex items-center justify-between mb-4 text-lg font-bold text-gray-900\">\r\n      <span>Compare Products ({products.length}/4)</span>\r\n    </h4>\r\n    <div className=\"mb-4 space-y-3 overflow-y-auto max-h-60\">\r\n      {products.map((product, idx) => (\r\n        <motion.div key={idx} className=\"flex items-center justify-between p-3 rounded-lg bg-gray-50\">\r\n          <div className=\"flex-1\">\r\n            <p className=\"text-sm font-semibold text-gray-900\">{product.name}</p>\r\n            <p className=\"text-sm font-bold text-green-600\">{product.price}</p>\r\n          </div>\r\n          <button onClick={() => onRemove(product)} className=\"p-2 ml-2 text-red-500 transition-all rounded-lg hover:text-red-700 hover:bg-red-50\">\r\n            <X size={18} />\r\n          </button>\r\n        </motion.div>\r\n      ))}\r\n    </div>\r\n    <button className=\"w-full px-4 py-3 font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 active:scale-95\">\r\n      View Comparison Details\r\n    </button>\r\n  </motion.div>\r\n));\r\n\r\n/* ProductDetails: hooks declared at top so no conditional hook usage */\r\nconst ProductDetails = ({ product, onClose, getImageUrl }) => {\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // reset when product changes\r\n    setCurrentImageIndex(0);\r\n  }, [product]);\r\n\r\n  if (!product) return null;\r\n\r\n  const totalImages = (product.images && product.images.length) || 1;\r\n  const nextImage = () => setCurrentImageIndex((prev) => (prev + 1) % totalImages);\r\n  const prevImage = () => setCurrentImageIndex((prev) => (prev - 1 + totalImages) % totalImages);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50\" onClick={onClose}>\r\n      <motion.div className=\"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl max-h-[90vh] overflow-y-auto\"\r\n        onClick={(e) => e.stopPropagation()}\r\n        initial={{ scale: 0.9, opacity: 0 }} animate={{ scale: 1, opacity: 1 }}>\r\n        <button onClick={onClose} className=\"absolute z-10 p-2 text-gray-500 transition-all bg-white rounded-full top-4 right-4 hover:text-gray-800 hover:bg-gray-100\">\r\n          <X size={24} />\r\n        </button>\r\n        <div className=\"grid grid-cols-1 gap-8 p-6 md:grid-cols-2 md:p-8\">\r\n          <div className=\"flex flex-col\">\r\n            <div className=\"relative mb-4 overflow-hidden h-96 rounded-xl bg-gradient-to-br from-blue-50 to-gray-100\">\r\n              {product.images?.length > 0 ? (\r\n                <img src={getImageUrl(product.images[currentImageIndex])} alt={`${product.name} image ${currentImageIndex + 1}`} className=\"object-cover w-full h-full\" />\r\n              ) : (\r\n                <div className=\"flex items-center justify-center w-full h-full\">No Image</div>\r\n              )}\r\n              {totalImages > 1 && (\r\n                <>\r\n                  <button onClick={prevImage} className=\"absolute p-3 text-gray-800 transition-all -translate-y-1/2 rounded-full shadow-lg left-3 top-1/2 bg-white/90 hover:bg-white\">\r\n                    <ChevronLeft size={24} />\r\n                  </button>\r\n                  <button onClick={nextImage} className=\"absolute p-3 text-gray-800 transition-all -translate-y-1/2 rounded-full shadow-lg right-3 top-1/2 bg-white/90 hover:bg-white\">\r\n                    <ChevronRight size={24} />\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n            {totalImages > 1 && (\r\n              <div className=\"flex gap-2 overflow-x-auto\">\r\n                {product.images?.map((_, index) => (\r\n                  <button key={index} onClick={() => setCurrentImageIndex(index)}\r\n                    className={`flex-shrink-0 w-16 h-16 rounded-lg border-2 overflow-hidden ${index === currentImageIndex ? \"border-blue-600\" : \"border-gray-300\"}`}>\r\n                    <img src={getImageUrl(product.images[index])} alt={`Thumbnail ${index + 1}`} className=\"object-cover w-full h-full\" />\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h3 className=\"mb-2 text-3xl font-bold text-gray-900\">{product.name}</h3>\r\n            {product.price && <p className=\"mb-6 text-3xl font-bold text-green-600\">{product.price}</p>}\r\n            {product.description && <p className=\"leading-relaxed text-gray-700\">{product.description}</p>}\r\n            {/* You can render more details/specs here if needed */}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/* QuoteForm with EmailJS (keeps same behavior as your original code) */\r\nconst QuoteForm = ({ product, onClose }) => {\r\n  const [form, setForm] = useState({ name: \"\", email: \"\", phone: \"\", details: \"\" });\r\n  const [status, setStatus] = useState(\"idle\");\r\n\r\n  // Replace these with your actual EmailJS values if different.\r\n  const SERVICE_ID = \"service_kt8vzli\";\r\n  const TEMPLATE_ID = \"template_9lqtcc5\";\r\n  const PUBLIC_KEY = \"gR42kMLn6SLj_Xrmx\";\r\n\r\n  useEffect(() => {\r\n    // load emailjs script once\r\n    const scriptId = \"emailjs-sdk\";\r\n    if (!document.getElementById(scriptId)) {\r\n      const script = document.createElement(\"script\");\r\n      script.id = scriptId;\r\n      script.src = \"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\";\r\n      script.async = true;\r\n      script.onload = () => {\r\n        try {\r\n          // initialize if available\r\n          if (window.emailjs && typeof window.emailjs.init === \"function\") {\r\n            window.emailjs.init(PUBLIC_KEY);\r\n          }\r\n        } catch (e) {\r\n          // ignore\r\n        }\r\n      };\r\n      document.body.appendChild(script);\r\n    } else {\r\n      // already present - ensure init\r\n      if (window.emailjs && typeof window.emailjs.init === \"function\") {\r\n        window.emailjs.init(PUBLIC_KEY);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setStatus(\"sending\");\r\n    try {\r\n      if (!window.emailjs || !window.emailjs.send) {\r\n        throw new Error(\"EmailJS not loaded\");\r\n      }\r\n      await window.emailjs.send(SERVICE_ID, TEMPLATE_ID, {\r\n        product: product?.name || \"Custom Quote\",\r\n        from_name: form.name,\r\n        from_email: form.email,\r\n        phone: form.phone,\r\n        message: form.details || \"No additional details provided\",\r\n      });\r\n      setStatus(\"success\");\r\n      setTimeout(() => {\r\n        onClose();\r\n        setForm({ name: \"\", email: \"\", phone: \"\", details: \"\" });\r\n        setStatus(\"idle\");\r\n      }, 2200);\r\n    } catch (err) {\r\n      console.error(\"Email send error:\", err);\r\n      setStatus(\"error\");\r\n      setTimeout(() => setStatus(\"idle\"), 3000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50\" onClick={onClose}>\r\n      <motion.div className=\"relative w-full max-w-sm overflow-hidden bg-white shadow-2xl rounded-2xl\"\r\n        onClick={(e) => e.stopPropagation()}\r\n        initial={{ scale: 0.85, opacity: 0, y: 50 }} animate={{ scale: 1, opacity: 1, y: 0 }}>\r\n        \r\n        {status === \"success\" && (\r\n          <div className=\"absolute inset-0 z-50 flex items-center justify-center bg-green-50 rounded-2xl\">\r\n            <div className=\"text-center\">\r\n              <div className=\"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-500 rounded-full\"><span className=\"text-3xl text-white\">✓</span></div>\r\n              <h3 className=\"text-xl font-bold text-green-800\">Quote Submitted!</h3>\r\n              <p className=\"mt-2 text-green-700\">We'll contact you soon.</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <button onClick={onClose} className=\"absolute z-20 p-2 text-gray-600 bg-white rounded-full shadow-sm top-3 right-3 hover:bg-gray-100\">\r\n          <X size={18} />\r\n        </button>\r\n\r\n        <div className=\"p-5 text-white bg-gradient-to-r from-blue-600 to-blue-700\">\r\n          <h3 className=\"text-xl font-bold\">Get Quote</h3>\r\n          <p className=\"mt-1 text-sm text-blue-100\">{product?.name || \"Custom Solution\"}</p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-5 space-y-3\">\r\n          <input type=\"text\" placeholder=\"Your Name *\" required value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} className=\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\" />\r\n          <input type=\"email\" placeholder=\"Your Email *\" required value={form.email} onChange={(e) => setForm({ ...form, email: e.target.value })} className=\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\" />\r\n          <input type=\"tel\" placeholder=\"Your Mobile *\" required value={form.phone} onChange={(e) => setForm({ ...form, phone: e.target.value })} className=\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\" />\r\n          <textarea placeholder=\"Your Requirements...\" rows={3} value={form.details} onChange={(e) => setForm({ ...form, details: e.target.value })} className=\"w-full px-3 py-2 text-sm transition-all border-2 border-gray-300 rounded-lg outline-none resize-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200\" />\r\n\r\n          <button type=\"submit\" disabled={status === \"sending\"} className=\"w-full py-2.5 text-sm font-bold text-white transition-all bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg hover:shadow-lg disabled:opacity-50\">\r\n            {status === \"sending\" ? \"Submitting...\" : \"Submit Quote\"}\r\n          </button>\r\n        </form>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}